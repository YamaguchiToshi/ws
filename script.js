const a0_0x1cd725=a0_0x118e;(function(_0x49cc08,_0x5e4a6d){const _0x50707c=a0_0x118e,_0x19bfb9=_0x49cc08();while(!![]){try{const _0x2705fc=parseInt(_0x50707c(0x229))/0x1+-parseInt(_0x50707c(0x22c))/0x2*(parseInt(_0x50707c(0x241))/0x3)+-parseInt(_0x50707c(0x1e6))/0x4+-parseInt(_0x50707c(0x20c))/0x5+parseInt(_0x50707c(0x1f5))/0x6*(parseInt(_0x50707c(0x1e1))/0x7)+parseInt(_0x50707c(0x234))/0x8*(parseInt(_0x50707c(0x203))/0x9)+-parseInt(_0x50707c(0x212))/0xa*(parseInt(_0x50707c(0x207))/0xb);if(_0x2705fc===_0x5e4a6d)break;else _0x19bfb9['push'](_0x19bfb9['shift']());}catch(_0x1df229){_0x19bfb9['push'](_0x19bfb9['shift']());}}}(a0_0x4f8b,0x1ea85));let heatmap,isTracking=![],lastMoveTime=0x0,lastMoveTimeForEffects=0x0,positions=[],trackingTimer,lastKnownMousePosition={'x':0x0,'y':0x0};const interval=0x3e8/0x3c,controlPanel=document[a0_0x1cd725(0x216)](a0_0x1cd725(0x210)),startButton=document['getElementById'](a0_0x1cd725(0x21d)),durationInput=document[a0_0x1cd725(0x216)](a0_0x1cd725(0x24a)),backgroundInput=document[a0_0x1cd725(0x216)](a0_0x1cd725(0x21b)),resetBackgroundButton=document[a0_0x1cd725(0x216)](a0_0x1cd725(0x22a)),clearHeatmapButton=document[a0_0x1cd725(0x216)](a0_0x1cd725(0x20d)),exportButton=document['getElementById'](a0_0x1cd725(0x24f)),effectSelect=document[a0_0x1cd725(0x216)]('effectSelect'),volumeControl=document[a0_0x1cd725(0x216)](a0_0x1cd725(0x20e));heatmap=h337[a0_0x1cd725(0x21c)]({'container':document[a0_0x1cd725(0x216)](a0_0x1cd725(0x250)),'maxOpacity':0.6,'radius':0x32,'blur':0.9,'backgroundColor':a0_0x1cd725(0x1d8)});class Effect{static [a0_0x1cd725(0x219)]=null;static [a0_0x1cd725(0x222)]=null;static[a0_0x1cd725(0x211)](){const _0x16ccd6=a0_0x1cd725;!Effect['audioContext']&&(Effect[_0x16ccd6(0x219)]=new(window[(_0x16ccd6(0x1dd))]||window[(_0x16ccd6(0x20a))])(),Effect['audioContext'][_0x16ccd6(0x1ee)]===_0x16ccd6(0x21a)&&Effect[_0x16ccd6(0x219)]['resume']());}constructor(_0xf33fd8,_0x1ca572,_0x59df97,_0x22f497=0x1){const _0x24d4a3=a0_0x1cd725;this[_0x24d4a3(0x1d6)]=document['createElement'](_0x24d4a3(0x1fb)),this[_0x24d4a3(0x1d6)][_0x24d4a3(0x249)][_0x24d4a3(0x1da)]=_0x24d4a3(0x1f2),this[_0x24d4a3(0x1d6)][_0x24d4a3(0x249)][_0x24d4a3(0x233)]=_0xf33fd8-0xa+'px',this[_0x24d4a3(0x1d6)][_0x24d4a3(0x249)]['top']=_0x1ca572-0xa+'px',this[_0x24d4a3(0x1d6)]['style'][_0x24d4a3(0x1e0)]=_0x59df97,this[_0x24d4a3(0x1f8)]=_0x22f497;}async[a0_0x1cd725(0x1e2)](_0x190a7b){const _0x31db55=a0_0x1cd725;!Effect['audioContext']&&Effect[_0x31db55(0x211)]();if(Effect['currentSound'])return;try{const _0x1f9396=await fetch(_0x190a7b),_0x495e8d=await _0x1f9396[_0x31db55(0x1ff)](),_0x47899d=await Effect[_0x31db55(0x219)][_0x31db55(0x23e)](_0x495e8d),_0x4be274=Effect[_0x31db55(0x219)]['createBufferSource']();_0x4be274['buffer']=_0x47899d,_0x4be274[_0x31db55(0x1f8)][_0x31db55(0x220)]=this[_0x31db55(0x1f8)],_0x4be274[_0x31db55(0x24c)](Effect[_0x31db55(0x219)][_0x31db55(0x1e8)]),Effect[_0x31db55(0x222)]=_0x4be274,_0x4be274[_0x31db55(0x205)]=()=>{const _0x259477=_0x31db55;Effect[_0x259477(0x222)]=null;},_0x4be274['start']();}catch(_0x197aa4){console[_0x31db55(0x1f3)](_0x31db55(0x1f0),_0x197aa4);}}}class RippleEffect extends Effect{constructor(_0x3911d8,_0x3214b3,_0xbcf5ec){const _0x3de526=a0_0x1cd725;super(_0x3911d8,_0x3214b3,_0xbcf5ec,1.5),this[_0x3de526(0x1d6)]['className']=_0x3de526(0x247);}['animate'](){const _0x510635=a0_0x1cd725;document['body'][_0x510635(0x1fc)](this[_0x510635(0x1d6)]),this[_0x510635(0x1e2)](_0x510635(0x1d9)),setTimeout(()=>this['element'][_0x510635(0x217)](),0x4e20);}}class PulseEffect extends Effect{constructor(_0x36918c,_0x13414c,_0x426f24){const _0x4abbb5=a0_0x1cd725;super(_0x36918c,_0x13414c,_0x426f24,0x2),this[_0x4abbb5(0x1d6)][_0x4abbb5(0x24b)]=_0x4abbb5(0x202);}['animate'](){const _0x492784=a0_0x1cd725;document[_0x492784(0x22f)][_0x492784(0x1fc)](this[_0x492784(0x1d6)]),this[_0x492784(0x1e2)](_0x492784(0x1d9)),setTimeout(()=>this[_0x492784(0x1d6)]['remove'](),0x3e8);}}class FloatEffect extends Effect{constructor(_0x5ae8cd,_0x10b11b,_0xe838fd){const _0x27c0c1=a0_0x1cd725;super(_0x5ae8cd,_0x10b11b,_0xe838fd,0x1),this[_0x27c0c1(0x1d6)]['className']=_0x27c0c1(0x21e);}[a0_0x1cd725(0x214)](){const _0xc5e690=a0_0x1cd725;document[_0xc5e690(0x22f)][_0xc5e690(0x1fc)](this[_0xc5e690(0x1d6)]),this[_0xc5e690(0x1e2)](_0xc5e690(0x201)),this[_0xc5e690(0x1d6)][_0xc5e690(0x249)][_0xc5e690(0x213)]=_0xc5e690(0x24d),this['element'][_0xc5e690(0x249)][_0xc5e690(0x237)]=_0xc5e690(0x24d),this[_0xc5e690(0x1d6)]['style'][_0xc5e690(0x230)]='translateY(0)\x20scale(1)',this[_0xc5e690(0x1d6)][_0xc5e690(0x249)][_0xc5e690(0x242)]='1',requestAnimationFrame(()=>{const _0x102266=_0xc5e690;this[_0x102266(0x1d6)][_0x102266(0x249)][_0x102266(0x1d5)]=_0x102266(0x231),this[_0x102266(0x1d6)][_0x102266(0x249)]['width']='60px',this['element'][_0x102266(0x249)][_0x102266(0x237)]=_0x102266(0x21f),this[_0x102266(0x1d6)]['style'][_0x102266(0x230)]='translateY(-100px)',this['element'][_0x102266(0x249)][_0x102266(0x242)]='0';}),setTimeout(()=>this['element'][_0xc5e690(0x217)](),0x7d0);}}class EffectFactory{static[a0_0x1cd725(0x20f)](_0x4e46f8,_0x408471,_0xaa791b){const _0x1af67d=a0_0x1cd725,_0x5b8449='hsl('+Math[_0x1af67d(0x23f)]()*0x168+_0x1af67d(0x244);switch(_0x4e46f8){case _0x1af67d(0x247):return new RippleEffect(_0x408471,_0xaa791b,_0x5b8449);case _0x1af67d(0x202):return new PulseEffect(_0x408471,_0xaa791b,_0x5b8449);case'float':return new FloatEffect(_0x408471,_0xaa791b,_0x5b8449);case'none':default:return null;}}}function createGazePlot(){const _0x2c052c=a0_0x1cd725,_0x359a47=document[_0x2c052c(0x246)](_0x2c052c(0x248),'svg');_0x359a47[_0x2c052c(0x1fd)](_0x2c052c(0x213),_0x2c052c(0x1d7)),_0x359a47[_0x2c052c(0x1fd)](_0x2c052c(0x237),'100%'),_0x359a47['style'][_0x2c052c(0x1da)]=_0x2c052c(0x1f2),_0x359a47[_0x2c052c(0x249)][_0x2c052c(0x1f7)]='0',_0x359a47['style'][_0x2c052c(0x233)]='0',_0x359a47[_0x2c052c(0x249)][_0x2c052c(0x1de)]=_0x2c052c(0x23b),document[_0x2c052c(0x22f)][_0x2c052c(0x1fc)](_0x359a47);const _0x5e37ef=0x14,_0x57c2c0=0x12c;let _0x521614=[],_0x3e095e={'x':positions[0x0]['x'],'y':positions[0x0]['y'],'duration':interval,'points':[positions[0x0]]};for(let _0x2f4eb0=0x1;_0x2f4eb0<positions['length'];_0x2f4eb0++){const _0x5ea08e=positions[_0x2f4eb0],_0x3a3dcc=_0x5ea08e['x']-_0x3e095e['x'],_0x2ce322=_0x5ea08e['y']-_0x3e095e['y'],_0x5929f8=Math[_0x2c052c(0x245)](_0x3a3dcc*_0x3a3dcc+_0x2ce322*_0x2ce322);_0x5929f8<_0x5e37ef?(_0x3e095e[_0x2c052c(0x1dc)][_0x2c052c(0x20b)](_0x5ea08e),_0x3e095e[_0x2c052c(0x23a)]+=interval):(_0x3e095e[_0x2c052c(0x23a)]>=_0x57c2c0&&_0x521614['push'](_0x3e095e),_0x3e095e={'x':_0x5ea08e['x'],'y':_0x5ea08e['y'],'duration':interval,'points':[_0x5ea08e]});}_0x3e095e[_0x2c052c(0x23a)]>=_0x57c2c0&&_0x521614[_0x2c052c(0x20b)](_0x3e095e);let _0x4550d5=null,_0x2eb4f9=null;_0x521614[_0x2c052c(0x1e3)]((_0x49ccc1,_0xb147aa)=>{const _0xce30a0=_0x2c052c,_0x2107d5=_0x49ccc1[_0xce30a0(0x1dc)]['reduce']((_0x2b2c07,_0x25dbc4)=>_0x2b2c07+_0x25dbc4['x'],0x0)/_0x49ccc1[_0xce30a0(0x1dc)][_0xce30a0(0x208)],_0x1bfd2a=_0x49ccc1[_0xce30a0(0x1dc)][_0xce30a0(0x204)]((_0x5c67b0,_0x2ad2a4)=>_0x5c67b0+_0x2ad2a4['y'],0x0)/_0x49ccc1[_0xce30a0(0x1dc)][_0xce30a0(0x208)],_0x10307f=document[_0xce30a0(0x246)](_0xce30a0(0x248),_0xce30a0(0x1fa));_0x10307f[_0xce30a0(0x1fd)]('cx',_0x2107d5),_0x10307f[_0xce30a0(0x1fd)]('cy',_0x1bfd2a),_0x10307f[_0xce30a0(0x1fd)]('r',Math[_0xce30a0(0x1f4)](_0x49ccc1[_0xce30a0(0x23a)]/ interval)*0x4),_0x10307f[_0xce30a0(0x1fd)](_0xce30a0(0x232),_0xce30a0(0x23c)+_0xb147aa*0x168/_0x521614['length']+_0xce30a0(0x244)),_0x359a47[_0xce30a0(0x1fc)](_0x10307f);const _0x133482=document['createElementNS'](_0xce30a0(0x248),_0xce30a0(0x239));_0x133482[_0xce30a0(0x1fd)]('x',_0x2107d5+0xf),_0x133482[_0xce30a0(0x1fd)]('y',_0x1bfd2a-0xf),durationTime=Math[_0xce30a0(0x22d)](_0x49ccc1[_0xce30a0(0x23a)]),_0x133482[_0xce30a0(0x1f9)]=durationTime+'ms',_0x133482[_0xce30a0(0x1fd)](_0xce30a0(0x232),_0xce30a0(0x225)),_0x133482[_0xce30a0(0x1fd)](_0xce30a0(0x1fe),_0xce30a0(0x243)),_0x359a47[_0xce30a0(0x1fc)](_0x133482);if(_0x4550d5!==null&&_0x2eb4f9!==null){const _0x36c831=document[_0xce30a0(0x246)](_0xce30a0(0x248),_0xce30a0(0x221));_0x36c831[_0xce30a0(0x1fd)]('x1',_0x4550d5),_0x36c831[_0xce30a0(0x1fd)]('y1',_0x2eb4f9),_0x36c831['setAttribute']('x2',_0x2107d5),_0x36c831[_0xce30a0(0x1fd)]('y2',_0x1bfd2a),_0x36c831[_0xce30a0(0x1fd)](_0xce30a0(0x1ed),_0xce30a0(0x23c)+_0xb147aa*0x168/_0x521614[_0xce30a0(0x208)]+_0xce30a0(0x244)),_0x36c831[_0xce30a0(0x1fd)]('stroke-width','2'),_0x359a47['appendChild'](_0x36c831);}_0x4550d5=_0x2107d5,_0x2eb4f9=_0x1bfd2a;const _0x1acac1=document[_0xce30a0(0x246)](_0xce30a0(0x248),_0xce30a0(0x239));_0x1acac1[_0xce30a0(0x1fd)]('x',_0x2107d5+0x5),_0x1acac1[_0xce30a0(0x1fd)]('y',_0x1bfd2a+0x5),_0x1acac1[_0xce30a0(0x1f9)]=_0xb147aa+0x1,_0x1acac1[_0xce30a0(0x1fd)](_0xce30a0(0x232),'white'),_0x1acac1[_0xce30a0(0x1fd)]('font-size','10px'),_0x359a47[_0xce30a0(0x1fc)](_0x1acac1);});}startButton[a0_0x1cd725(0x24e)]('click',startTracking),resetBackgroundButton['addEventListener'](a0_0x1cd725(0x22b),resetBackground),clearHeatmapButton[a0_0x1cd725(0x24e)](a0_0x1cd725(0x22b),clearHeatmap),exportButton[a0_0x1cd725(0x24e)]('click',exportHeatmap),backgroundInput[a0_0x1cd725(0x24e)](a0_0x1cd725(0x228),setBackgroundImage),document[a0_0x1cd725(0x24e)](a0_0x1cd725(0x22e),trackMouseMovement),document[a0_0x1cd725(0x24e)](a0_0x1cd725(0x22e),_0x2d805e=>{const _0x2eb7bf=a0_0x1cd725;lastKnownMousePosition['x']=_0x2d805e['pageX'],lastKnownMousePosition['y']=_0x2d805e[_0x2eb7bf(0x1f1)];}),window[a0_0x1cd725(0x24e)](a0_0x1cd725(0x206),()=>heatmap['resize']()),volumeControl[a0_0x1cd725(0x24e)]('input',function(){const _0x22b725=a0_0x1cd725,_0xe2b82=this[_0x22b725(0x220)];document['getElementById']('rippleSound')[_0x22b725(0x238)]=_0xe2b82,document[_0x22b725(0x216)]('pulseSound')[_0x22b725(0x238)]=_0xe2b82;}),document[a0_0x1cd725(0x216)]('showGazePlotButton')['addEventListener']('click',createGazePlot);function startTracking(){const _0x21370c=a0_0x1cd725;if(isTracking)return;const _0x44d709=parseInt(durationInput[_0x21370c(0x220)]);if(isNaN(_0x44d709)||_0x44d709<0x1||_0x44d709>0x3c){alert(_0x21370c(0x1df));return;}Effect[_0x21370c(0x211)](),clearHeatmap(),isTracking=!![],controlPanel[_0x21370c(0x215)][_0x21370c(0x223)](_0x21370c(0x1e9)),disableControls(!![]),startButton[_0x21370c(0x1f9)]=_0x21370c(0x1ef),trackingTimer=setTimeout(endTracking,_0x44d709*0x3e8),updateMousePosition();}function a0_0x118e(_0x2ea1a9,_0x5561f3){const _0x4f8b04=a0_0x4f8b();return a0_0x118e=function(_0x118e0d,_0x27cbf6){_0x118e0d=_0x118e0d-0x1d4;let _0x22b1ff=_0x4f8b04[_0x118e0d];return _0x22b1ff;},a0_0x118e(_0x2ea1a9,_0x5561f3);}function endTracking(){const _0x567770=a0_0x1cd725;isTracking=![],heatmap[_0x567770(0x240)]({'max':0x1,'data':positions}),controlPanel[_0x567770(0x215)][_0x567770(0x217)](_0x567770(0x1e9)),disableControls(![]),startButton[_0x567770(0x1f9)]=_0x567770(0x1ec);}function resetBackground(){const _0x21d0be=a0_0x1cd725;document[_0x21d0be(0x22f)][_0x21d0be(0x249)]['backgroundImage']='none',document['body'][_0x21d0be(0x249)][_0x21d0be(0x1e0)]=_0x21d0be(0x224),backgroundInput[_0x21d0be(0x220)]='';}function clearHeatmap(){const _0x634e2=a0_0x1cd725;heatmap[_0x634e2(0x240)]({'max':0x1,'data':[]}),positions=[];}function exportHeatmap(){const _0xb5c659=a0_0x1cd725;controlPanel[_0xb5c659(0x215)][_0xb5c659(0x223)]('hidden'),setTimeout(()=>{const _0x440c9b=_0xb5c659;html2canvas(document['body'],{'width':document[_0x440c9b(0x22f)][_0x440c9b(0x1eb)],'height':document[_0x440c9b(0x22f)][_0x440c9b(0x1e4)],'scale':0x1,'useCORS':!![]})[_0x440c9b(0x236)](_0x4a5101=>{const _0x4771b9=_0x440c9b,_0x4f28f9=_0x4a5101['toDataURL']('image/png')['replace']('image/png',_0x4771b9(0x200)),_0x391194=document[_0x4771b9(0x1db)]('a');_0x391194['download']=_0x4771b9(0x1f6),_0x391194[_0x4771b9(0x209)]=_0x4f28f9,_0x391194[_0x4771b9(0x22b)](),controlPanel[_0x4771b9(0x215)]['remove'](_0x4771b9(0x1e9));});},0x12c);}function setBackgroundImage(_0x1c0efa){const _0x4dff4b=a0_0x1cd725,_0x49fddc=_0x1c0efa[_0x4dff4b(0x227)]['files'][0x0];if(_0x49fddc){const _0x3518c9=new FileReader();_0x3518c9[_0x4dff4b(0x226)]=function(_0x1faa74){const _0x207328=_0x4dff4b;document[_0x207328(0x22f)][_0x207328(0x249)][_0x207328(0x1ea)]=_0x207328(0x23d)+_0x1faa74[_0x207328(0x227)][_0x207328(0x235)]+'\x27)';},_0x3518c9[_0x4dff4b(0x1d4)](_0x49fddc);}else resetBackground();}function trackMouseMovement(_0x39a44a){const _0x35beda=a0_0x1cd725;if(!isTracking)return;const _0x567241=performance[_0x35beda(0x1e5)](),_0x476b6f=performance[_0x35beda(0x1e5)]();_0x567241-lastMoveTime>interval&&(lastMoveTime=_0x567241);if(_0x476b6f-lastMoveTimeForEffects>0x64){console['log']('effect'),lastMoveTimeForEffects=_0x476b6f;const _0x5c7573=effectSelect[_0x35beda(0x220)],_0x5effc2=EffectFactory[_0x35beda(0x20f)](_0x5c7573,_0x39a44a[_0x35beda(0x218)],_0x39a44a[_0x35beda(0x1f1)]);_0x5effc2&&_0x5effc2[_0x35beda(0x214)]();}}function updateMousePosition(){const _0xdc2275=a0_0x1cd725;if(!isTracking)return;positions[_0xdc2275(0x20b)]({'x':lastKnownMousePosition['x'],'y':lastKnownMousePosition['y'],'value':0x1}),setTimeout(updateMousePosition,interval);}function disableControls(_0x535b05){const _0x411887=a0_0x1cd725;startButton[_0x411887(0x1e7)]=_0x535b05,durationInput['disabled']=_0x535b05,backgroundInput[_0x411887(0x1e7)]=_0x535b05,resetBackgroundButton['disabled']=_0x535b05,clearHeatmapButton[_0x411887(0x1e7)]=_0x535b05,exportButton[_0x411887(0x1e7)]=_0x535b05,effectSelect[_0x411887(0x1e7)]=_0x535b05;}function a0_0x4f8b(){const _0x557952=['classList','getElementById','remove','pageX','audioContext','suspended','backgroundInput','create','startButton','float','60px','value','line','currentSound','add','black','white','onload','target','change','226233IOlpmZ','resetBackgroundButton','click','374qACMDO','round','mousemove','body','transform','all\x202s\x20ease-out','fill','left','1742648VHRZCc','result','then','height','volume','text','duration','none','hsl(','url(\x27','decodeAudioData','random','setData','1827uRbUwU','opacity','12px',',\x20100%,\x2050%)','sqrt','createElementNS','ripple','http://www.w3.org/2000/svg','style','durationInput','className','connect','20px','addEventListener','exportButton','heatmapContainer','readAsDataURL','transition','element','100%','rgba(0,\x200,\x200,\x200)','sounds/fuwa.mp3','position','createElement','points','AudioContext','pointerEvents','Please\x20enter\x20a\x20valid\x20duration\x20between\x201\x20and\x2060\x20seconds.','backgroundColor','386827RNREaM','playSound','forEach','scrollHeight','now','466184ZfWCsV','disabled','destination','hidden','backgroundImage','scrollWidth','Start\x20Tracking','stroke','state','Tracking...','Error\x20playing\x20sound:','pageY','absolute','error','log2','18ovkBlb','heatmap_export.png','top','playbackRate','textContent','circle','div','appendChild','setAttribute','font-size','arrayBuffer','image/octet-stream','sounds/short_float.mp3','pulse','9IQkVsl','reduce','onended','resize','12111XuhOdl','length','href','webkitAudioContext','push','74640NkiDWB','clearHeatmapButton','volumeControl','createEffect','controlPanel','initAudioContext','2170BZoZES','width','animate'];a0_0x4f8b=function(){return _0x557952;};return a0_0x4f8b();}