function a0_0xf1b7(){const _0x578e78=['rippleSound','backgroundImage','12SpMsmD','playbackRate','backgroundColor','hsl(','line','stroke','forEach',',\x20100%,\x2050%)','element','then','0.75','all\x202s\x20ease-out','1753835HdisAM','2178854gEnkKw','state','body','length','resize','none','animate','startButton','100%','60px','download','position','create','15px','buffer','white','initAudioContext','href','connect','pageY','translateY(0)\x20scale(1)','log','onload','onended','effect','round','add','44278eVcBbX','12px','random','hidden','heatmapContainer','createElementNS','start','fill','float','top','createEffect','image/png','9126832IqhcDa','Error\x20playing\x20sound:','pointerEvents','pulse','audioContext','3sNOQVz','addEventListener','4542412xlcqdf','getElementById','value','createBufferSource','2898854hwPeNN','remove','setData','currentSound','div','change','http://www.w3.org/2000/svg','font-size','replace','now','sounds/fuwa.mp3','svg','left','ripple','className','sqrt','rgba(0,\x200,\x200,\x200)','Please\x20enter\x20a\x20valid\x20duration\x20between\x201\x20and\x2060\x20seconds.','style','translateY(-100px)','height','setAttribute','text','input','heatmap_export.png','image/octet-stream','files','Tracking...','stroke-width','textContent','createElement','opacity','points','classList','pulseSound','playSound','appendChild','absolute','arrayBuffer','scrollHeight','decodeAudioData','push','clearHeatmapButton','Start\x20Tracking','circle','26860950NidrZr','target','volume','backgroundInput','url(\x27','width','reduce','duration','webkitAudioContext','20px','pageX','disabled','durationInput','mousemove','showGazePlotButton','log2','suspended','resume','click'];a0_0xf1b7=function(){return _0x578e78;};return a0_0xf1b7();}const a0_0xf3a496=a0_0x53f7;(function(_0x3c3024,_0x4877ca){const _0x2415d4=a0_0x53f7,_0x56309b=_0x3c3024();while(!![]){try{const _0x53d111=-parseInt(_0x2415d4(0xf2))/0x1+-parseInt(_0x2415d4(0xd7))/0x2*(parseInt(_0x2415d4(0x103))/0x3)+-parseInt(_0x2415d4(0x105))/0x4+parseInt(_0x2415d4(0xd6))/0x5+-parseInt(_0x2415d4(0xca))/0x6*(-parseInt(_0x2415d4(0x109))/0x7)+-parseInt(_0x2415d4(0xfe))/0x8+parseInt(_0x2415d4(0xb5))/0x9;if(_0x53d111===_0x4877ca)break;else _0x56309b['push'](_0x56309b['shift']());}catch(_0x31165b){_0x56309b['push'](_0x56309b['shift']());}}}(a0_0xf1b7,0xb7ef7));let heatmap,isTracking=![],lastMoveTime=0x0,lastMoveTimeForEffects=0x0,positions=[],trackingTimer,lastKnownMousePosition={'x':0x0,'y':0x0};const interval=0x3e8/0x3c,controlPanel=document[a0_0xf3a496(0x106)]('controlPanel'),startButton=document[a0_0xf3a496(0x106)](a0_0xf3a496(0xde)),durationInput=document[a0_0xf3a496(0x106)](a0_0xf3a496(0xc1)),backgroundInput=document[a0_0xf3a496(0x106)](a0_0xf3a496(0xb8)),resetBackgroundButton=document[a0_0xf3a496(0x106)]('resetBackgroundButton'),clearHeatmapButton=document['getElementById'](a0_0xf3a496(0xb2)),exportButton=document[a0_0xf3a496(0x106)]('exportButton'),effectSelect=document[a0_0xf3a496(0x106)]('effectSelect'),volumeControl=document[a0_0xf3a496(0x106)]('volumeControl');heatmap=h337[a0_0xf3a496(0xe3)]({'container':document['getElementById'](a0_0xf3a496(0xf6)),'maxOpacity':0.6,'radius':0x32,'blur':0.9,'backgroundColor':a0_0xf3a496(0x119)});class Effect{static [a0_0xf3a496(0x102)]=null;static ['currentSound']=null;static[a0_0xf3a496(0xe7)](){const _0xeb323f=a0_0xf3a496;!Effect[_0xeb323f(0x102)]&&(Effect['audioContext']=new(window['AudioContext']||window[(_0xeb323f(0xbd))])(),Effect['audioContext'][_0xeb323f(0xd8)]===_0xeb323f(0xc5)&&Effect[_0xeb323f(0x102)][_0xeb323f(0xc6)]());}constructor(_0x640baa,_0x587630,_0x36f12e,_0x301353=0x1){const _0x133f41=a0_0xf3a496;this[_0x133f41(0xd2)]=document[_0x133f41(0x127)](_0x133f41(0x10d)),this[_0x133f41(0xd2)]['style'][_0x133f41(0xe2)]=_0x133f41(0xad),this['element'][_0x133f41(0x11b)][_0x133f41(0x115)]=_0x640baa-0xa+'px',this['element'][_0x133f41(0x11b)][_0x133f41(0xfb)]=_0x587630-0xa+'px',this[_0x133f41(0xd2)]['style'][_0x133f41(0xcc)]=_0x36f12e,this[_0x133f41(0xcb)]=_0x301353;}async['playSound'](_0x15d60a){const _0x1350b6=a0_0xf3a496;!Effect[_0x1350b6(0x102)]&&Effect[_0x1350b6(0xe7)]();if(Effect['currentSound'])return;try{const _0x1f40cc=await fetch(_0x15d60a),_0x1ab698=await _0x1f40cc[_0x1350b6(0xae)](),_0x4e0fbb=await Effect[_0x1350b6(0x102)][_0x1350b6(0xb0)](_0x1ab698),_0x302dfb=Effect['audioContext'][_0x1350b6(0x108)]();_0x302dfb[_0x1350b6(0xe5)]=_0x4e0fbb,_0x302dfb[_0x1350b6(0xcb)]['value']=this[_0x1350b6(0xcb)],_0x302dfb[_0x1350b6(0xe9)](Effect[_0x1350b6(0x102)]['destination']),Effect['currentSound']=_0x302dfb,_0x302dfb[_0x1350b6(0xee)]=()=>{const _0x391721=_0x1350b6;Effect[_0x391721(0x10c)]=null;},_0x302dfb[_0x1350b6(0xf8)]();}catch(_0x196349){console['error'](_0x1350b6(0xff),_0x196349);}}}class RippleEffect extends Effect{constructor(_0x66480d,_0x290383,_0x2f4691){const _0x281e27=a0_0xf3a496;super(_0x66480d,_0x290383,_0x2f4691,1.5),this[_0x281e27(0xd2)][_0x281e27(0x117)]='ripple';}[a0_0xf3a496(0xdd)](){const _0x3d2b6d=a0_0xf3a496;document[_0x3d2b6d(0xd9)][_0x3d2b6d(0xac)](this[_0x3d2b6d(0xd2)]),this[_0x3d2b6d(0xab)](_0x3d2b6d(0x113)),setTimeout(()=>this[_0x3d2b6d(0xd2)]['remove'](),0x4e20);}}class PulseEffect extends Effect{constructor(_0x393e2c,_0x1a0f33,_0x582bb6){const _0xc30512=a0_0xf3a496;super(_0x393e2c,_0x1a0f33,_0x582bb6,0x2),this[_0xc30512(0xd2)][_0xc30512(0x117)]='pulse';}[a0_0xf3a496(0xdd)](){const _0x4b41ca=a0_0xf3a496;document[_0x4b41ca(0xd9)]['appendChild'](this['element']),this[_0x4b41ca(0xab)](_0x4b41ca(0x113)),setTimeout(()=>this[_0x4b41ca(0xd2)][_0x4b41ca(0x10a)](),0x3e8);}}class FloatEffect extends Effect{constructor(_0x21e31d,_0x1db0cd,_0x5bdd01){const _0x391c69=a0_0xf3a496;super(_0x21e31d,_0x1db0cd,_0x5bdd01,0x1),this[_0x391c69(0xd2)][_0x391c69(0x117)]=_0x391c69(0xfa);}[a0_0xf3a496(0xdd)](){const _0x22c9fa=a0_0xf3a496;document[_0x22c9fa(0xd9)]['appendChild'](this[_0x22c9fa(0xd2)]),this[_0x22c9fa(0xab)]('sounds/short_float.mp3'),this[_0x22c9fa(0xd2)][_0x22c9fa(0x11b)][_0x22c9fa(0xba)]=_0x22c9fa(0xbe),this[_0x22c9fa(0xd2)]['style'][_0x22c9fa(0x11d)]=_0x22c9fa(0xbe),this['element'][_0x22c9fa(0x11b)]['transform']=_0x22c9fa(0xeb),this[_0x22c9fa(0xd2)][_0x22c9fa(0x11b)][_0x22c9fa(0x128)]='1',requestAnimationFrame(()=>{const _0x491072=_0x22c9fa;this[_0x491072(0xd2)]['style']['transition']=_0x491072(0xd5),this['element'][_0x491072(0x11b)][_0x491072(0xba)]=_0x491072(0xe0),this[_0x491072(0xd2)][_0x491072(0x11b)][_0x491072(0x11d)]='60px',this['element']['style']['transform']=_0x491072(0x11c),this[_0x491072(0xd2)][_0x491072(0x11b)][_0x491072(0x128)]='0';}),setTimeout(()=>this[_0x22c9fa(0xd2)][_0x22c9fa(0x10a)](),0x7d0);}}class EffectFactory{static['createEffect'](_0x156e70,_0x30f6c8,_0x24482e){const _0x10cbb2=a0_0xf3a496,_0x706f77=_0x10cbb2(0xcd)+Math[_0x10cbb2(0xf4)]()*0x168+_0x10cbb2(0xd1);switch(_0x156e70){case _0x10cbb2(0x116):return new RippleEffect(_0x30f6c8,_0x24482e,_0x706f77);case _0x10cbb2(0x101):return new PulseEffect(_0x30f6c8,_0x24482e,_0x706f77);case _0x10cbb2(0xfa):return new FloatEffect(_0x30f6c8,_0x24482e,_0x706f77);case _0x10cbb2(0xdc):default:return null;}}}function createGazePlot(){const _0x4300f9=a0_0xf3a496,_0x57c8d3=document['createElementNS'](_0x4300f9(0x10f),_0x4300f9(0x114));_0x57c8d3[_0x4300f9(0x11e)](_0x4300f9(0xba),_0x4300f9(0xdf)),_0x57c8d3['setAttribute'](_0x4300f9(0x11d),_0x4300f9(0xdf)),_0x57c8d3[_0x4300f9(0x11b)][_0x4300f9(0xe2)]=_0x4300f9(0xad),_0x57c8d3[_0x4300f9(0x11b)][_0x4300f9(0xfb)]='0',_0x57c8d3[_0x4300f9(0x11b)][_0x4300f9(0x115)]='0',_0x57c8d3['style'][_0x4300f9(0x100)]='none',document['body'][_0x4300f9(0xac)](_0x57c8d3);const _0x1663f6=0x5a,_0x5310b5=0xc8;let _0x2e6cfd=[],_0x2a5576={'x':positions[0x0]['x'],'y':positions[0x0]['y'],'duration':interval,'points':[positions[0x0]]};for(let _0x558309=0x1;_0x558309<positions[_0x4300f9(0xda)];_0x558309++){const _0x4b04b9=positions[_0x558309],_0x4378d7=_0x4b04b9['x']-_0x2a5576['x'],_0x468041=_0x4b04b9['y']-_0x2a5576['y'],_0x4b21a6=Math[_0x4300f9(0x118)](_0x4378d7*_0x4378d7+_0x468041*_0x468041);_0x4b21a6<_0x1663f6?(_0x2a5576['points'][_0x4300f9(0xb1)](_0x4b04b9),_0x2a5576[_0x4300f9(0xbc)]+=interval):(_0x2a5576['duration']>=_0x5310b5&&_0x2e6cfd[_0x4300f9(0xb1)](_0x2a5576),_0x2a5576={'x':_0x4b04b9['x'],'y':_0x4b04b9['y'],'duration':interval,'points':[_0x4b04b9]});}_0x2a5576[_0x4300f9(0xbc)]>=_0x5310b5&&_0x2e6cfd[_0x4300f9(0xb1)](_0x2a5576);let _0xd75bc6=null,_0x33bc3a=null;_0x2e6cfd[_0x4300f9(0xd0)]((_0x56dbdb,_0x3f5b40)=>{const _0x2d784f=_0x4300f9,_0xdc9862=_0x56dbdb[_0x2d784f(0x129)]['reduce']((_0xb4c495,_0x2b41c5)=>_0xb4c495+_0x2b41c5['x'],0x0)/_0x56dbdb[_0x2d784f(0x129)][_0x2d784f(0xda)],_0x327b40=_0x56dbdb[_0x2d784f(0x129)][_0x2d784f(0xbb)]((_0x231a26,_0x337bfe)=>_0x231a26+_0x337bfe['y'],0x0)/_0x56dbdb['points']['length'];if(_0xd75bc6!==null&&_0x33bc3a!==null){const _0x5e8ce6=document[_0x2d784f(0xf7)](_0x2d784f(0x10f),_0x2d784f(0xce));_0x5e8ce6[_0x2d784f(0x11e)]('x1',_0xd75bc6),_0x5e8ce6[_0x2d784f(0x11e)]('y1',_0x33bc3a),_0x5e8ce6[_0x2d784f(0x11e)]('x2',_0xdc9862),_0x5e8ce6[_0x2d784f(0x11e)]('y2',_0x327b40),_0x5e8ce6[_0x2d784f(0x11e)](_0x2d784f(0xcf),'hsl('+_0x3f5b40*0x168/_0x2e6cfd[_0x2d784f(0xda)]+_0x2d784f(0xd1)),_0x5e8ce6[_0x2d784f(0x11e)](_0x2d784f(0x125),'2'),_0x57c8d3[_0x2d784f(0xac)](_0x5e8ce6);}const _0x186c7e=document['createElementNS'](_0x2d784f(0x10f),_0x2d784f(0xb4));_0x186c7e[_0x2d784f(0x11e)]('cx',_0xdc9862),_0x186c7e['setAttribute']('cy',_0x327b40),_0x186c7e[_0x2d784f(0x11e)]('r',Math[_0x2d784f(0xc4)](_0x56dbdb[_0x2d784f(0xbc)]/ interval)*0x5),_0x186c7e[_0x2d784f(0x11e)](_0x2d784f(0xcf),_0x2d784f(0xe6)),_0x186c7e[_0x2d784f(0x11e)](_0x2d784f(0x125),'4'),_0x186c7e[_0x2d784f(0x11e)](_0x2d784f(0xf9),_0x2d784f(0xcd)+_0x3f5b40*0x168/_0x2e6cfd[_0x2d784f(0xda)]+',\x20100%,\x2050%)'),_0x186c7e['setAttribute']('fill-opacity',_0x2d784f(0xd4)),_0x57c8d3[_0x2d784f(0xac)](_0x186c7e);const _0x22a2eb=document[_0x2d784f(0xf7)](_0x2d784f(0x10f),_0x2d784f(0x11f));_0x22a2eb['setAttribute']('x',_0xdc9862+0xf),_0x22a2eb['setAttribute']('y',_0x327b40-0xf),durationTime=Math[_0x2d784f(0xf0)](_0x56dbdb[_0x2d784f(0xbc)]),_0x22a2eb[_0x2d784f(0x126)]=durationTime+'ms',_0x22a2eb['setAttribute'](_0x2d784f(0xf9),_0x2d784f(0xe6)),_0x22a2eb['setAttribute'](_0x2d784f(0x110),_0x2d784f(0xf3)),_0x57c8d3[_0x2d784f(0xac)](_0x22a2eb),_0xd75bc6=_0xdc9862,_0x33bc3a=_0x327b40;const _0x30bdb9=document[_0x2d784f(0xf7)](_0x2d784f(0x10f),_0x2d784f(0x11f));_0x30bdb9['setAttribute']('x',_0xdc9862+0x5),_0x30bdb9[_0x2d784f(0x11e)]('y',_0x327b40+0x5),_0x30bdb9[_0x2d784f(0x126)]=_0x3f5b40+0x1,_0x30bdb9[_0x2d784f(0x11e)](_0x2d784f(0xf9),_0x2d784f(0xe6)),_0x30bdb9[_0x2d784f(0x11e)](_0x2d784f(0x110),_0x2d784f(0xe4)),_0x57c8d3[_0x2d784f(0xac)](_0x30bdb9);});}startButton[a0_0xf3a496(0x104)](a0_0xf3a496(0xc7),startTracking),resetBackgroundButton['addEventListener'](a0_0xf3a496(0xc7),resetBackground),clearHeatmapButton[a0_0xf3a496(0x104)](a0_0xf3a496(0xc7),clearHeatmap),exportButton[a0_0xf3a496(0x104)]('click',exportHeatmap),backgroundInput['addEventListener'](a0_0xf3a496(0x10e),setBackgroundImage),document['addEventListener'](a0_0xf3a496(0xc2),trackMouseMovement),document['addEventListener'](a0_0xf3a496(0xc2),_0xed8564=>{const _0x5bb5d8=a0_0xf3a496;lastKnownMousePosition['x']=_0xed8564[_0x5bb5d8(0xbf)],lastKnownMousePosition['y']=_0xed8564['pageY'];}),window[a0_0xf3a496(0x104)](a0_0xf3a496(0xdb),()=>heatmap['resize']()),volumeControl[a0_0xf3a496(0x104)](a0_0xf3a496(0x120),function(){const _0xf1142e=a0_0xf3a496,_0xa54d5=this[_0xf1142e(0x107)];document[_0xf1142e(0x106)](_0xf1142e(0xc8))[_0xf1142e(0xb7)]=_0xa54d5,document[_0xf1142e(0x106)](_0xf1142e(0xaa))['volume']=_0xa54d5;}),document[a0_0xf3a496(0x106)](a0_0xf3a496(0xc3))[a0_0xf3a496(0x104)](a0_0xf3a496(0xc7),createGazePlot);function startTracking(){const _0x5124f5=a0_0xf3a496;if(isTracking)return;const _0x25e184=parseInt(durationInput[_0x5124f5(0x107)]);if(isNaN(_0x25e184)||_0x25e184<0x1||_0x25e184>0x3c){alert(_0x5124f5(0x11a));return;}Effect['initAudioContext'](),clearHeatmap(),isTracking=!![],controlPanel['classList'][_0x5124f5(0xf1)](_0x5124f5(0xf5)),disableControls(!![]),startButton[_0x5124f5(0x126)]=_0x5124f5(0x124),trackingTimer=setTimeout(endTracking,_0x25e184*0x3e8),updateMousePosition();}function endTracking(){const _0x15d638=a0_0xf3a496;isTracking=![],heatmap[_0x15d638(0x10b)]({'max':0x1,'data':positions}),controlPanel['classList'][_0x15d638(0x10a)](_0x15d638(0xf5)),disableControls(![]),startButton[_0x15d638(0x126)]=_0x15d638(0xb3);}function resetBackground(){const _0x5d523a=a0_0xf3a496;document[_0x5d523a(0xd9)]['style'][_0x5d523a(0xc9)]=_0x5d523a(0xdc),document['body'][_0x5d523a(0x11b)][_0x5d523a(0xcc)]='black',backgroundInput[_0x5d523a(0x107)]='';}function clearHeatmap(){const _0x1f4794=a0_0xf3a496;heatmap[_0x1f4794(0x10b)]({'max':0x1,'data':[]}),positions=[];}function exportHeatmap(){const _0x2b575d=a0_0xf3a496;controlPanel[_0x2b575d(0xa9)]['add'](_0x2b575d(0xf5)),setTimeout(()=>{const _0x2a3d56=_0x2b575d;html2canvas(document[_0x2a3d56(0xd9)],{'width':document[_0x2a3d56(0xd9)]['scrollWidth'],'height':document['body'][_0x2a3d56(0xaf)],'scale':0x1,'useCORS':!![]})[_0x2a3d56(0xd3)](_0x3db2e8=>{const _0x5e9d6e=_0x2a3d56,_0x73ad5c=_0x3db2e8['toDataURL'](_0x5e9d6e(0xfd))[_0x5e9d6e(0x111)](_0x5e9d6e(0xfd),_0x5e9d6e(0x122)),_0x320dca=document[_0x5e9d6e(0x127)]('a');_0x320dca[_0x5e9d6e(0xe1)]=_0x5e9d6e(0x121),_0x320dca[_0x5e9d6e(0xe8)]=_0x73ad5c,_0x320dca[_0x5e9d6e(0xc7)](),controlPanel[_0x5e9d6e(0xa9)][_0x5e9d6e(0x10a)]('hidden');});},0x12c);}function setBackgroundImage(_0x569bb5){const _0x4c4685=a0_0xf3a496,_0x12077e=_0x569bb5['target'][_0x4c4685(0x123)][0x0];if(_0x12077e){const _0x3217ff=new FileReader();_0x3217ff[_0x4c4685(0xed)]=function(_0x3a3dd2){const _0xb39009=_0x4c4685;document[_0xb39009(0xd9)][_0xb39009(0x11b)][_0xb39009(0xc9)]=_0xb39009(0xb9)+_0x3a3dd2[_0xb39009(0xb6)]['result']+'\x27)';},_0x3217ff['readAsDataURL'](_0x12077e);}else resetBackground();}function a0_0x53f7(_0x35cefd,_0xa09d93){const _0xf1b728=a0_0xf1b7();return a0_0x53f7=function(_0x53f7fe,_0x5791b0){_0x53f7fe=_0x53f7fe-0xa9;let _0x3003f1=_0xf1b728[_0x53f7fe];return _0x3003f1;},a0_0x53f7(_0x35cefd,_0xa09d93);}function trackMouseMovement(_0x40115b){const _0x49eac1=a0_0xf3a496;if(!isTracking)return;const _0x32c946=performance['now'](),_0x410096=performance[_0x49eac1(0x112)]();_0x32c946-lastMoveTime>interval&&(lastMoveTime=_0x32c946);if(_0x410096-lastMoveTimeForEffects>0x64){console[_0x49eac1(0xec)](_0x49eac1(0xef)),lastMoveTimeForEffects=_0x410096;const _0x27b60e=effectSelect[_0x49eac1(0x107)],_0xc4229c=EffectFactory[_0x49eac1(0xfc)](_0x27b60e,_0x40115b[_0x49eac1(0xbf)],_0x40115b[_0x49eac1(0xea)]);_0xc4229c&&_0xc4229c[_0x49eac1(0xdd)]();}}function updateMousePosition(){const _0x6af7d6=a0_0xf3a496;if(!isTracking)return;positions[_0x6af7d6(0xb1)]({'x':lastKnownMousePosition['x'],'y':lastKnownMousePosition['y'],'value':0x1}),setTimeout(updateMousePosition,interval);}function disableControls(_0x41a410){const _0x1e72b8=a0_0xf3a496;startButton[_0x1e72b8(0xc0)]=_0x41a410,durationInput[_0x1e72b8(0xc0)]=_0x41a410,backgroundInput[_0x1e72b8(0xc0)]=_0x41a410,resetBackgroundButton[_0x1e72b8(0xc0)]=_0x41a410,clearHeatmapButton[_0x1e72b8(0xc0)]=_0x41a410,exportButton[_0x1e72b8(0xc0)]=_0x41a410,effectSelect[_0x1e72b8(0xc0)]=_0x41a410;}