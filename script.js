const a0_0x2044a9=a0_0x189d;(function(_0x42cff5,_0x532188){const _0x47f16e=a0_0x189d,_0x316eba=_0x42cff5();while(!![]){try{const _0x34710d=-parseInt(_0x47f16e(0xe3))/0x1*(parseInt(_0x47f16e(0xb6))/0x2)+parseInt(_0x47f16e(0xeb))/0x3*(parseInt(_0x47f16e(0xd4))/0x4)+-parseInt(_0x47f16e(0xe1))/0x5*(-parseInt(_0x47f16e(0xc8))/0x6)+parseInt(_0x47f16e(0x9f))/0x7*(-parseInt(_0x47f16e(0xbb))/0x8)+-parseInt(_0x47f16e(0xfb))/0x9*(parseInt(_0x47f16e(0x102))/0xa)+parseInt(_0x47f16e(0xc3))/0xb+-parseInt(_0x47f16e(0x10d))/0xc;if(_0x34710d===_0x532188)break;else _0x316eba['push'](_0x316eba['shift']());}catch(_0x4d7cf0){_0x316eba['push'](_0x316eba['shift']());}}}(a0_0x5725,0x8810c));let heatmap,isTracking=![],lastMoveTime=0x0,lastMoveTimeForEffects=0x0,positions=[],trackingTimer,lastKnownMousePosition={'x':0x0,'y':0x0};const interval=0x3e8/0x3c,controlPanel=document[a0_0x2044a9(0x103)](a0_0x2044a9(0xa1)),startButton=document['getElementById'](a0_0x2044a9(0xc4)),durationInput=document[a0_0x2044a9(0x103)](a0_0x2044a9(0x95)),backgroundInput=document[a0_0x2044a9(0x103)]('backgroundInput'),resetBackgroundButton=document[a0_0x2044a9(0x103)](a0_0x2044a9(0xfc)),clearHeatmapButton=document[a0_0x2044a9(0x103)](a0_0x2044a9(0xb1)),exportButton=document['getElementById'](a0_0x2044a9(0xa2)),effectSelect=document['getElementById'](a0_0x2044a9(0xe9)),volumeControl=document[a0_0x2044a9(0x103)](a0_0x2044a9(0xe6));heatmap=h337[a0_0x2044a9(0xcc)]({'container':document['getElementById'](a0_0x2044a9(0xd5)),'maxOpacity':0.6,'radius':0x19,'blur':0x1,'backgroundColor':a0_0x2044a9(0x9a)});function a0_0x5725(){const _0x5b719f=['stroke-width','target','duration','position','Tracking...','animate','classList','85835JAqSFi','width','1KzYseb','volume','font-size','volumeControl','top','line','effectSelect','log','3lYvwqI','result','white','backgroundImage','0.75','round','points','pageY','translateY(-100px)','scrollHeight','mousemove','showGazePlotButton','sounds/fuwa.mp3','transform','createElement','http://www.w3.org/2000/svg','90leqBeq','resetBackgroundButton','100%','black','replace','ripple','reduce','1005680qDOgjL','getElementById','left','15px','createEffect','heatmap_export.png','addEventListener','connect','AudioContext','12px','element','2746908fkycVf','className','playbackRate','pointerEvents',',\x20100%,\x2050%)','appendChild','opacity','hidden','currentSound','now','circle','durationInput','transition','translateY(0)\x20scale(1)','div','float','rgba(0,\x200,\x200,\x200)','decodeAudioData','resume','toDataURL','style','49UmjQce','hsl(','controlPanel','exportButton','stroke','readAsDataURL','length','onload','push','setAttribute','image/octet-stream','add','initAudioContext','absolute','image/png','suspended','setData','height','clearHeatmapButton','createElementNS','webkitAudioContext','onended','60px','1033108uErPHI','state','then','href','input','525416jOiFHD','value','sqrt','text','audioContext','click','disabled','playSound','8265774mChQIf','startButton','createBufferSource','svg','sounds/short_float.mp3','324OxudZb','log2','backgroundColor','start','create','pulse','body','20px','remove','Please\x20enter\x20a\x20valid\x20duration\x20between\x201\x20and\x2060\x20seconds.','textContent','url(\x27','4359016xSMVQV','heatmapContainer','pageX','scrollWidth','resize','fill'];a0_0x5725=function(){return _0x5b719f;};return a0_0x5725();}class Effect{static [a0_0x2044a9(0xbf)]=null;static [a0_0x2044a9(0x115)]=null;static[a0_0x2044a9(0xab)](){const _0x408265=a0_0x2044a9;!Effect[_0x408265(0xbf)]&&(Effect[_0x408265(0xbf)]=new(window[(_0x408265(0x10a))]||window[(_0x408265(0xb3))])(),Effect[_0x408265(0xbf)][_0x408265(0xb7)]===_0x408265(0xae)&&Effect[_0x408265(0xbf)][_0x408265(0x9c)]());}constructor(_0x460376,_0x314ed1,_0x2b3731,_0x4bcbdb=0x1){const _0x32a8fd=a0_0x2044a9;this['element']=document['createElement'](_0x32a8fd(0x98)),this[_0x32a8fd(0x10c)]['style'][_0x32a8fd(0xdd)]=_0x32a8fd(0xac),this[_0x32a8fd(0x10c)][_0x32a8fd(0x9e)]['left']=_0x460376-0xa+'px',this['element'][_0x32a8fd(0x9e)]['top']=_0x314ed1-0xa+'px',this[_0x32a8fd(0x10c)][_0x32a8fd(0x9e)]['backgroundColor']=_0x2b3731,this['playbackRate']=_0x4bcbdb;}async[a0_0x2044a9(0xc2)](_0x2b2bde){const _0x299e04=a0_0x2044a9;!Effect['audioContext']&&Effect['initAudioContext']();if(Effect[_0x299e04(0x115)])return;try{const _0x1ab183=await fetch(_0x2b2bde),_0x1bbe42=await _0x1ab183['arrayBuffer'](),_0x26b7d7=await Effect[_0x299e04(0xbf)][_0x299e04(0x9b)](_0x1bbe42),_0x14be62=Effect[_0x299e04(0xbf)][_0x299e04(0xc5)]();_0x14be62['buffer']=_0x26b7d7,_0x14be62[_0x299e04(0x10f)][_0x299e04(0xbc)]=this[_0x299e04(0x10f)],_0x14be62[_0x299e04(0x109)](Effect[_0x299e04(0xbf)]['destination']),Effect[_0x299e04(0x115)]=_0x14be62,_0x14be62[_0x299e04(0xb4)]=()=>{const _0x23e6fa=_0x299e04;Effect[_0x23e6fa(0x115)]=null;},_0x14be62[_0x299e04(0xcb)]();}catch(_0x1e05a6){console['error']('Error\x20playing\x20sound:',_0x1e05a6);}}}class RippleEffect extends Effect{constructor(_0x48e637,_0x547fa1,_0x1d19d7){const _0x4a632a=a0_0x2044a9;super(_0x48e637,_0x547fa1,_0x1d19d7,1.5),this[_0x4a632a(0x10c)][_0x4a632a(0x10e)]=_0x4a632a(0x100);}['animate'](){const _0x5519a8=a0_0x2044a9;document[_0x5519a8(0xce)][_0x5519a8(0x112)](this[_0x5519a8(0x10c)]),this[_0x5519a8(0xc2)](_0x5519a8(0xf7)),setTimeout(()=>this[_0x5519a8(0x10c)][_0x5519a8(0xd0)](),0x4e20);}}class PulseEffect extends Effect{constructor(_0x20532a,_0x4ec12e,_0x311c87){super(_0x20532a,_0x4ec12e,_0x311c87,0x2),this['element']['className']='pulse';}[a0_0x2044a9(0xdf)](){const _0x1f53e4=a0_0x2044a9;document[_0x1f53e4(0xce)][_0x1f53e4(0x112)](this[_0x1f53e4(0x10c)]),this[_0x1f53e4(0xc2)]('sounds/fuwa.mp3'),setTimeout(()=>this['element'][_0x1f53e4(0xd0)](),0x3e8);}}class FloatEffect extends Effect{constructor(_0x2febfa,_0x4f26d9,_0x2c4113){const _0x2fe76d=a0_0x2044a9;super(_0x2febfa,_0x4f26d9,_0x2c4113,0x1),this['element'][_0x2fe76d(0x10e)]='float';}[a0_0x2044a9(0xdf)](){const _0xea9bc4=a0_0x2044a9;document[_0xea9bc4(0xce)][_0xea9bc4(0x112)](this[_0xea9bc4(0x10c)]),this[_0xea9bc4(0xc2)](_0xea9bc4(0xc7)),this['element'][_0xea9bc4(0x9e)][_0xea9bc4(0xe2)]=_0xea9bc4(0xcf),this[_0xea9bc4(0x10c)][_0xea9bc4(0x9e)]['height']=_0xea9bc4(0xcf),this['element'][_0xea9bc4(0x9e)]['transform']=_0xea9bc4(0x97),this[_0xea9bc4(0x10c)][_0xea9bc4(0x9e)][_0xea9bc4(0x113)]='1',requestAnimationFrame(()=>{const _0x169eef=_0xea9bc4;this[_0x169eef(0x10c)]['style'][_0x169eef(0x96)]='all\x202s\x20ease-out',this[_0x169eef(0x10c)][_0x169eef(0x9e)]['width']=_0x169eef(0xb5),this[_0x169eef(0x10c)][_0x169eef(0x9e)][_0x169eef(0xb0)]=_0x169eef(0xb5),this['element']['style'][_0x169eef(0xf8)]=_0x169eef(0xf3),this[_0x169eef(0x10c)][_0x169eef(0x9e)]['opacity']='0';}),setTimeout(()=>this['element'][_0xea9bc4(0xd0)](),0x7d0);}}class EffectFactory{static[a0_0x2044a9(0x106)](_0x32daa4,_0x261d2b,_0xe6a796){const _0x57617b=a0_0x2044a9,_0x9901ef=_0x57617b(0xa0)+Math['random']()*0x168+_0x57617b(0x111);switch(_0x32daa4){case _0x57617b(0x100):return new RippleEffect(_0x261d2b,_0xe6a796,_0x9901ef);case _0x57617b(0xcd):return new PulseEffect(_0x261d2b,_0xe6a796,_0x9901ef);case _0x57617b(0x99):return new FloatEffect(_0x261d2b,_0xe6a796,_0x9901ef);case'none':default:return null;}}}function a0_0x189d(_0x511cc0,_0x13283e){const _0x572527=a0_0x5725();return a0_0x189d=function(_0x189d73,_0x117ff3){_0x189d73=_0x189d73-0x94;let _0xf5236a=_0x572527[_0x189d73];return _0xf5236a;},a0_0x189d(_0x511cc0,_0x13283e);}function createGazePlot(){const _0x3b13d6=a0_0x2044a9,_0x112bdf=document[_0x3b13d6(0xb2)](_0x3b13d6(0xfa),_0x3b13d6(0xc6));_0x112bdf['setAttribute']('width',_0x3b13d6(0xfd)),_0x112bdf[_0x3b13d6(0xa8)](_0x3b13d6(0xb0),_0x3b13d6(0xfd)),_0x112bdf[_0x3b13d6(0x9e)]['position']=_0x3b13d6(0xac),_0x112bdf[_0x3b13d6(0x9e)][_0x3b13d6(0xe7)]='0',_0x112bdf['style'][_0x3b13d6(0x104)]='0',_0x112bdf[_0x3b13d6(0x9e)][_0x3b13d6(0x110)]='none',document[_0x3b13d6(0xce)][_0x3b13d6(0x112)](_0x112bdf);const _0x254a93=0x3c,_0x25e838=0x12c;let _0x21f880=[],_0x504331={'x':positions[0x0]['x'],'y':positions[0x0]['y'],'duration':interval,'points':[positions[0x0]]};for(let _0x58f6d2=0x1;_0x58f6d2<positions[_0x3b13d6(0xa5)];_0x58f6d2++){const _0x25f653=positions[_0x58f6d2],_0x34938b=_0x25f653['x']-_0x504331['x'],_0x143cc8=_0x25f653['y']-_0x504331['y'],_0x5e2048=Math[_0x3b13d6(0xbd)](_0x34938b*_0x34938b+_0x143cc8*_0x143cc8);_0x5e2048<_0x254a93?(_0x504331['points'][_0x3b13d6(0xa7)](_0x25f653),_0x504331[_0x3b13d6(0xdc)]+=interval):(_0x504331[_0x3b13d6(0xdc)]>=_0x25e838&&_0x21f880['push'](_0x504331),_0x504331={'x':_0x25f653['x'],'y':_0x25f653['y'],'duration':interval,'points':[_0x25f653]});}_0x504331[_0x3b13d6(0xdc)]>=_0x25e838&&_0x21f880['push'](_0x504331);let _0x1d81f1=null,_0x21d815=null;_0x21f880['forEach']((_0x4be8a0,_0x4b0da0)=>{const _0x158d3e=_0x3b13d6,_0x468576=_0x4be8a0['points'][_0x158d3e(0x101)]((_0x249ba3,_0x5bd39)=>_0x249ba3+_0x5bd39['x'],0x0)/_0x4be8a0[_0x158d3e(0xf1)][_0x158d3e(0xa5)],_0x5711d4=_0x4be8a0[_0x158d3e(0xf1)][_0x158d3e(0x101)]((_0x2c60b4,_0x39b321)=>_0x2c60b4+_0x39b321['y'],0x0)/_0x4be8a0['points'][_0x158d3e(0xa5)];if(_0x1d81f1!==null&&_0x21d815!==null){const _0x15427b=document[_0x158d3e(0xb2)]('http://www.w3.org/2000/svg',_0x158d3e(0xe8));_0x15427b[_0x158d3e(0xa8)]('x1',_0x1d81f1),_0x15427b['setAttribute']('y1',_0x21d815),_0x15427b[_0x158d3e(0xa8)]('x2',_0x468576),_0x15427b['setAttribute']('y2',_0x5711d4),_0x15427b[_0x158d3e(0xa8)](_0x158d3e(0xa3),_0x158d3e(0xa0)+_0x4b0da0*0x168/_0x21f880[_0x158d3e(0xa5)]+_0x158d3e(0x111)),_0x15427b[_0x158d3e(0xa8)](_0x158d3e(0xda),'2'),_0x112bdf[_0x158d3e(0x112)](_0x15427b);}const _0xf5aa57=document[_0x158d3e(0xb2)](_0x158d3e(0xfa),_0x158d3e(0x94));_0xf5aa57['setAttribute']('cx',_0x468576),_0xf5aa57[_0x158d3e(0xa8)]('cy',_0x5711d4),_0xf5aa57[_0x158d3e(0xa8)]('r',Math[_0x158d3e(0xc9)](_0x4be8a0[_0x158d3e(0xdc)]/ interval)*0x5),_0xf5aa57[_0x158d3e(0xa8)]('stroke',_0x158d3e(0xed)),_0xf5aa57[_0x158d3e(0xa8)]('stroke-width','4'),_0xf5aa57[_0x158d3e(0xa8)]('fill',_0x158d3e(0xa0)+_0x4b0da0*0x168/_0x21f880[_0x158d3e(0xa5)]+_0x158d3e(0x111)),_0xf5aa57[_0x158d3e(0xa8)]('fill-opacity',_0x158d3e(0xef)),_0x112bdf[_0x158d3e(0x112)](_0xf5aa57);const _0x151f32=document[_0x158d3e(0xb2)]('http://www.w3.org/2000/svg',_0x158d3e(0xbe));_0x151f32[_0x158d3e(0xa8)]('x',_0x468576+0xf),_0x151f32[_0x158d3e(0xa8)]('y',_0x5711d4-0xf),durationTime=Math[_0x158d3e(0xf0)](_0x4be8a0[_0x158d3e(0xdc)]),_0x151f32[_0x158d3e(0xd2)]=durationTime+'ms',_0x151f32['setAttribute'](_0x158d3e(0xd9),'white'),_0x151f32['setAttribute'](_0x158d3e(0xe5),_0x158d3e(0x10b)),_0x112bdf[_0x158d3e(0x112)](_0x151f32),_0x1d81f1=_0x468576,_0x21d815=_0x5711d4;const _0x2e8c88=document[_0x158d3e(0xb2)](_0x158d3e(0xfa),'text');_0x2e8c88[_0x158d3e(0xa8)]('x',_0x468576+0x5),_0x2e8c88[_0x158d3e(0xa8)]('y',_0x5711d4+0x5),_0x2e8c88[_0x158d3e(0xd2)]=_0x4b0da0+0x1,_0x2e8c88[_0x158d3e(0xa8)](_0x158d3e(0xd9),'white'),_0x2e8c88['setAttribute'](_0x158d3e(0xe5),_0x158d3e(0x105)),_0x112bdf['appendChild'](_0x2e8c88);});}startButton[a0_0x2044a9(0x108)](a0_0x2044a9(0xc0),startTracking),resetBackgroundButton[a0_0x2044a9(0x108)](a0_0x2044a9(0xc0),resetBackground),clearHeatmapButton['addEventListener'](a0_0x2044a9(0xc0),clearHeatmap),exportButton[a0_0x2044a9(0x108)](a0_0x2044a9(0xc0),exportHeatmap),backgroundInput[a0_0x2044a9(0x108)]('change',setBackgroundImage),document[a0_0x2044a9(0x108)](a0_0x2044a9(0xf5),trackMouseMovement),document['addEventListener']('mousemove',_0x2009f0=>{const _0x170e86=a0_0x2044a9;lastKnownMousePosition['x']=_0x2009f0[_0x170e86(0xd6)],lastKnownMousePosition['y']=_0x2009f0[_0x170e86(0xf2)];}),window[a0_0x2044a9(0x108)](a0_0x2044a9(0xd8),()=>heatmap[a0_0x2044a9(0xd8)]()),volumeControl[a0_0x2044a9(0x108)](a0_0x2044a9(0xba),function(){const _0x56a2c2=a0_0x2044a9,_0x12b1ac=this[_0x56a2c2(0xbc)];document[_0x56a2c2(0x103)]('rippleSound')[_0x56a2c2(0xe4)]=_0x12b1ac,document['getElementById']('pulseSound')['volume']=_0x12b1ac;}),document['getElementById'](a0_0x2044a9(0xf6))[a0_0x2044a9(0x108)]('click',createGazePlot);function startTracking(){const _0x13af8e=a0_0x2044a9;if(isTracking)return;const _0x1e7092=parseInt(durationInput[_0x13af8e(0xbc)]);if(isNaN(_0x1e7092)||_0x1e7092<0x1||_0x1e7092>0x3c){alert(_0x13af8e(0xd1));return;}Effect['initAudioContext'](),clearHeatmap(),isTracking=!![],controlPanel[_0x13af8e(0xe0)][_0x13af8e(0xaa)](_0x13af8e(0x114)),disableControls(!![]),startButton[_0x13af8e(0xd2)]=_0x13af8e(0xde),trackingTimer=setTimeout(endTracking,_0x1e7092*0x3e8),updateMousePosition();}function endTracking(){const _0x3626bb=a0_0x2044a9;isTracking=![],heatmap['setData']({'max':0x1,'data':positions}),controlPanel[_0x3626bb(0xe0)][_0x3626bb(0xd0)]('hidden'),disableControls(![]),startButton[_0x3626bb(0xd2)]='Start\x20Tracking';}function resetBackground(){const _0x23f683=a0_0x2044a9;document['body'][_0x23f683(0x9e)][_0x23f683(0xee)]='none',document[_0x23f683(0xce)][_0x23f683(0x9e)][_0x23f683(0xca)]=_0x23f683(0xfe),backgroundInput[_0x23f683(0xbc)]='';}function clearHeatmap(){const _0xf04295=a0_0x2044a9;heatmap[_0xf04295(0xaf)]({'max':0x1,'data':[]}),positions=[];}function exportHeatmap(){const _0x5b82ad=a0_0x2044a9;controlPanel[_0x5b82ad(0xe0)][_0x5b82ad(0xaa)](_0x5b82ad(0x114)),setTimeout(()=>{const _0x19692b=_0x5b82ad;html2canvas(document[_0x19692b(0xce)],{'width':document[_0x19692b(0xce)][_0x19692b(0xd7)],'height':document[_0x19692b(0xce)][_0x19692b(0xf4)],'scale':0x1,'useCORS':!![]})[_0x19692b(0xb8)](_0x5312c6=>{const _0xee8bb2=_0x19692b,_0x3e5c70=_0x5312c6[_0xee8bb2(0x9d)]('image/png')[_0xee8bb2(0xff)](_0xee8bb2(0xad),_0xee8bb2(0xa9)),_0x1c2d85=document[_0xee8bb2(0xf9)]('a');_0x1c2d85['download']=_0xee8bb2(0x107),_0x1c2d85[_0xee8bb2(0xb9)]=_0x3e5c70,_0x1c2d85['click'](),controlPanel[_0xee8bb2(0xe0)]['remove'](_0xee8bb2(0x114));});},0x12c);}function setBackgroundImage(_0x1f24c5){const _0x3f9000=a0_0x2044a9,_0x54c1cd=_0x1f24c5[_0x3f9000(0xdb)]['files'][0x0];if(_0x54c1cd){const _0x42866d=new FileReader();_0x42866d[_0x3f9000(0xa6)]=function(_0x13bf64){const _0x57d75d=_0x3f9000;document[_0x57d75d(0xce)][_0x57d75d(0x9e)][_0x57d75d(0xee)]=_0x57d75d(0xd3)+_0x13bf64[_0x57d75d(0xdb)][_0x57d75d(0xec)]+'\x27)';},_0x42866d[_0x3f9000(0xa4)](_0x54c1cd);}else resetBackground();}function trackMouseMovement(_0x12a4b2){const _0x3c1ce8=a0_0x2044a9;if(!isTracking)return;const _0x1c225d=performance[_0x3c1ce8(0x116)](),_0x5ae894=performance[_0x3c1ce8(0x116)]();_0x1c225d-lastMoveTime>interval&&(lastMoveTime=_0x1c225d);if(_0x5ae894-lastMoveTimeForEffects>0x64){console[_0x3c1ce8(0xea)]('effect'),lastMoveTimeForEffects=_0x5ae894;const _0x3a9ee9=effectSelect['value'],_0x555171=EffectFactory[_0x3c1ce8(0x106)](_0x3a9ee9,_0x12a4b2[_0x3c1ce8(0xd6)],_0x12a4b2[_0x3c1ce8(0xf2)]);_0x555171&&_0x555171['animate']();}}function updateMousePosition(){const _0x1ce45d=a0_0x2044a9;if(!isTracking)return;positions[_0x1ce45d(0xa7)]({'x':lastKnownMousePosition['x'],'y':lastKnownMousePosition['y'],'value':0x1}),setTimeout(updateMousePosition,interval);}function disableControls(_0x1afec8){const _0x775dba=a0_0x2044a9;startButton[_0x775dba(0xc1)]=_0x1afec8,durationInput['disabled']=_0x1afec8,backgroundInput['disabled']=_0x1afec8,resetBackgroundButton[_0x775dba(0xc1)]=_0x1afec8,clearHeatmapButton[_0x775dba(0xc1)]=_0x1afec8,exportButton['disabled']=_0x1afec8,effectSelect['disabled']=_0x1afec8;}