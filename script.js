const a0_0x262f85=a0_0x5521;(function(_0x17bf03,_0x38910a){const _0x2ff055=a0_0x5521,_0x43847e=_0x17bf03();while(!![]){try{const _0x106b80=-parseInt(_0x2ff055(0x106))/0x1*(parseInt(_0x2ff055(0x128))/0x2)+-parseInt(_0x2ff055(0x116))/0x3*(-parseInt(_0x2ff055(0xf4))/0x4)+-parseInt(_0x2ff055(0xf8))/0x5+parseInt(_0x2ff055(0x149))/0x6+-parseInt(_0x2ff055(0x108))/0x7+-parseInt(_0x2ff055(0x139))/0x8*(-parseInt(_0x2ff055(0x125))/0x9)+-parseInt(_0x2ff055(0x156))/0xa;if(_0x106b80===_0x38910a)break;else _0x43847e['push'](_0x43847e['shift']());}catch(_0xadd2a){_0x43847e['push'](_0x43847e['shift']());}}}(a0_0x2a6d,0xafda8));let heatmap,isTracking=![],lastMoveTime=0x0,positions=[],trackingTimer;const interval=0x64,controlPanel=document[a0_0x262f85(0x133)]('controlPanel'),startButton=document['getElementById']('startButton'),durationInput=document[a0_0x262f85(0x133)](a0_0x262f85(0x14e)),backgroundInput=document[a0_0x262f85(0x133)](a0_0x262f85(0x115)),resetBackgroundButton=document[a0_0x262f85(0x133)](a0_0x262f85(0xf5)),clearHeatmapButton=document['getElementById'](a0_0x262f85(0x151)),exportButton=document[a0_0x262f85(0x133)](a0_0x262f85(0x126)),effectSelect=document[a0_0x262f85(0x133)](a0_0x262f85(0x105)),volumeControl=document['getElementById'](a0_0x262f85(0x122));heatmap=h337[a0_0x262f85(0x141)]({'container':document[a0_0x262f85(0x133)]('heatmapContainer'),'maxOpacity':0.6,'radius':0x32,'blur':0.9,'backgroundColor':a0_0x262f85(0x150)});class Effect{static [a0_0x262f85(0x147)]=null;static [a0_0x262f85(0x138)]=null;static[a0_0x262f85(0x132)](){const _0x4cab47=a0_0x262f85;!Effect['audioContext']&&(Effect['audioContext']=new(window[(_0x4cab47(0x159))]||window[(_0x4cab47(0x158))])(),Effect[_0x4cab47(0x147)][_0x4cab47(0x11b)]==='suspended'&&Effect['audioContext'][_0x4cab47(0xeb)]());}constructor(_0x4ca964,_0x39fd95,_0x207621,_0x5266bb=0x1){const _0x4240a4=a0_0x262f85;this[_0x4240a4(0x11f)]=document[_0x4240a4(0x127)]('div'),this[_0x4240a4(0x11f)]['style'][_0x4240a4(0x11e)]=_0x4ca964-0xa+'px',this[_0x4240a4(0x11f)][_0x4240a4(0x15c)][_0x4240a4(0x129)]=_0x39fd95-0xa+'px',this[_0x4240a4(0x11f)][_0x4240a4(0x15c)][_0x4240a4(0xf1)]=_0x207621,this[_0x4240a4(0x130)]=_0x5266bb;}async[a0_0x262f85(0xf9)](_0x405136){const _0x3246ec=a0_0x262f85;!Effect['audioContext']&&Effect[_0x3246ec(0x132)]();if(Effect[_0x3246ec(0x138)])return;try{const _0x419e13=await fetch(_0x405136),_0x4381a5=await _0x419e13[_0x3246ec(0x109)](),_0x405862=await Effect[_0x3246ec(0x147)][_0x3246ec(0xff)](_0x4381a5),_0x10ed28=Effect[_0x3246ec(0x147)][_0x3246ec(0x12f)]();_0x10ed28[_0x3246ec(0xf0)]=_0x405862,_0x10ed28[_0x3246ec(0x130)]['value']=this[_0x3246ec(0x130)],_0x10ed28[_0x3246ec(0xf7)](Effect[_0x3246ec(0x147)]['destination']),Effect[_0x3246ec(0x138)]=_0x10ed28,_0x10ed28[_0x3246ec(0x10e)]=()=>{const _0x2e585c=_0x3246ec;Effect[_0x2e585c(0x138)]=null;},_0x10ed28[_0x3246ec(0x102)]();}catch(_0x291768){console['error'](_0x3246ec(0xfc),_0x291768);}}}class RippleEffect extends Effect{constructor(_0x222fac,_0x2a5bcd,_0x529993){const _0x3191fe=a0_0x262f85;super(_0x222fac,_0x2a5bcd,_0x529993,1.5),this[_0x3191fe(0x11f)]['className']=_0x3191fe(0xf6);}[a0_0x262f85(0x144)](){const _0x262448=a0_0x262f85;document[_0x262448(0x100)]['appendChild'](this[_0x262448(0x11f)]),this[_0x262448(0xf9)](_0x262448(0x11d)),setTimeout(()=>this[_0x262448(0x11f)][_0x262448(0x10c)](),0x7d0);}}class PulseEffect extends Effect{constructor(_0x2f76a4,_0x355d6b,_0x463f30){const _0x5f4e87=a0_0x262f85;super(_0x2f76a4,_0x355d6b,_0x463f30,0x2),this[_0x5f4e87(0x11f)]['className']='pulse';}[a0_0x262f85(0x144)](){const _0x1cafff=a0_0x262f85;document['body'][_0x1cafff(0x13d)](this[_0x1cafff(0x11f)]),this[_0x1cafff(0xf9)]('sounds/fuwa.mp3'),setTimeout(()=>this['element']['remove'](),0x3e8);}}class FloatEffect extends Effect{constructor(_0x55cb5b,_0x48c12d,_0x4f2b4e){const _0x4f290d=a0_0x262f85;super(_0x55cb5b,_0x48c12d,_0x4f2b4e,0x1),this[_0x4f290d(0x11f)][_0x4f290d(0x136)]=_0x4f290d(0x15b);}['animate'](){const _0x4f37ad=a0_0x262f85;document['body']['appendChild'](this[_0x4f37ad(0x11f)]),this[_0x4f37ad(0xf9)](_0x4f37ad(0x12d)),this[_0x4f37ad(0x11f)][_0x4f37ad(0x15c)][_0x4f37ad(0x111)]=_0x4f37ad(0x153),this[_0x4f37ad(0x11f)][_0x4f37ad(0x15c)][_0x4f37ad(0xee)]=_0x4f37ad(0x153),this[_0x4f37ad(0x11f)]['style'][_0x4f37ad(0x12a)]=_0x4f37ad(0x112),this[_0x4f37ad(0x11f)][_0x4f37ad(0x15c)][_0x4f37ad(0x160)]='1',requestAnimationFrame(()=>{const _0x304762=_0x4f37ad;this[_0x304762(0x11f)][_0x304762(0x15c)][_0x304762(0x140)]=_0x304762(0x13f),this[_0x304762(0x11f)][_0x304762(0x15c)][_0x304762(0x111)]=_0x304762(0x143),this[_0x304762(0x11f)]['style'][_0x304762(0xee)]=_0x304762(0x143),this[_0x304762(0x11f)][_0x304762(0x15c)][_0x304762(0x12a)]=_0x304762(0x121),this[_0x304762(0x11f)][_0x304762(0x15c)][_0x304762(0x160)]='0';}),setTimeout(()=>this['element']['remove'](),0x7d0);}}function a0_0x5521(_0x545774,_0x6135f8){const _0x2a6d35=a0_0x2a6d();return a0_0x5521=function(_0x552162,_0x4b8fd7){_0x552162=_0x552162-0xe7;let _0x14fe55=_0x2a6d35[_0x552162];return _0x14fe55;},a0_0x5521(_0x545774,_0x6135f8);}class EffectFactory{static['createEffect'](_0x5251b6,_0x1e910b,_0x329d36){const _0x2c0e8d=a0_0x262f85,_0x228d5e=_0x2c0e8d(0x13b)+Math[_0x2c0e8d(0x142)]()*0x168+_0x2c0e8d(0x14b);switch(_0x5251b6){case'ripple':return new RippleEffect(_0x1e910b,_0x329d36,_0x228d5e);case _0x2c0e8d(0xf3):return new PulseEffect(_0x1e910b,_0x329d36,_0x228d5e);case'float':return new FloatEffect(_0x1e910b,_0x329d36,_0x228d5e);case _0x2c0e8d(0x123):default:return null;}}}function createGazePlot(){const _0x5f1086=a0_0x262f85,_0x4ac22c=document[_0x5f1086(0xea)]('http://www.w3.org/2000/svg',_0x5f1086(0x119));_0x4ac22c[_0x5f1086(0x11c)](_0x5f1086(0x111),_0x5f1086(0xfe)),_0x4ac22c[_0x5f1086(0x11c)](_0x5f1086(0xee),_0x5f1086(0xfe)),_0x4ac22c[_0x5f1086(0x15c)][_0x5f1086(0xfd)]=_0x5f1086(0x124),_0x4ac22c[_0x5f1086(0x15c)][_0x5f1086(0x129)]='0',_0x4ac22c[_0x5f1086(0x15c)][_0x5f1086(0x11e)]='0',_0x4ac22c[_0x5f1086(0x15c)]['pointerEvents']='none',document[_0x5f1086(0x100)]['appendChild'](_0x4ac22c);const _0x1e3137=0x14,_0x5905e2=0x12c;let _0x5b6ef9=[],_0xfedb43={'x':positions[0x0]['x'],'y':positions[0x0]['y'],'duration':0x64,'points':[positions[0x0]]};for(let _0x3c16cb=0x1;_0x3c16cb<positions[_0x5f1086(0x10b)];_0x3c16cb++){const _0x2e7c96=positions[_0x3c16cb],_0x34417f=_0x2e7c96['x']-_0xfedb43['x'],_0x4d9f84=_0x2e7c96['y']-_0xfedb43['y'],_0x30b201=Math[_0x5f1086(0x14c)](_0x34417f*_0x34417f+_0x4d9f84*_0x4d9f84);_0x30b201<_0x1e3137?(_0xfedb43[_0x5f1086(0x12e)][_0x5f1086(0x14d)](_0x2e7c96),_0xfedb43[_0x5f1086(0x10a)]+=0x64):(_0xfedb43['duration']>=_0x5905e2&&_0x5b6ef9[_0x5f1086(0x14d)](_0xfedb43),_0xfedb43={'x':_0x2e7c96['x'],'y':_0x2e7c96['y'],'duration':0x64,'points':[_0x2e7c96]});}_0xfedb43[_0x5f1086(0x10a)]>=_0x5905e2&&_0x5b6ef9['push'](_0xfedb43);let _0x25295d=null,_0x3bc42c=null;_0x5b6ef9['forEach']((_0x125e96,_0x262624)=>{const _0x39f534=_0x5f1086,_0x21c496=_0x125e96[_0x39f534(0x12e)]['reduce']((_0x241ef0,_0xecfdfd)=>_0x241ef0+_0xecfdfd['x'],0x0)/_0x125e96['points']['length'],_0x46cbcf=_0x125e96[_0x39f534(0x12e)][_0x39f534(0x12c)]((_0x49a209,_0x21ddf5)=>_0x49a209+_0x21ddf5['y'],0x0)/_0x125e96['points'][_0x39f534(0x10b)],_0xdaea37=document[_0x39f534(0xea)](_0x39f534(0x148),_0x39f534(0x14f));_0xdaea37['setAttribute']('cx',_0x21c496),_0xdaea37['setAttribute']('cy',_0x46cbcf),_0xdaea37[_0x39f534(0x11c)]('r',Math[_0x39f534(0x134)](_0x125e96['duration']/0x64)*0x5),_0xdaea37[_0x39f534(0x11c)](_0x39f534(0xf2),_0x39f534(0x13b)+_0x262624*0x168/_0x5b6ef9['length']+_0x39f534(0x14b)),_0x4ac22c[_0x39f534(0x13d)](_0xdaea37);const _0x4e5289=document[_0x39f534(0xea)](_0x39f534(0x148),_0x39f534(0xed));_0x4e5289['setAttribute']('x',_0x21c496+0xf),_0x4e5289[_0x39f534(0x11c)]('y',_0x46cbcf-0xf),_0x4e5289[_0x39f534(0x154)]=_0x125e96[_0x39f534(0x10a)]+'ms',_0x4e5289[_0x39f534(0x11c)](_0x39f534(0xf2),'white'),_0x4e5289[_0x39f534(0x11c)](_0x39f534(0xef),'12px'),_0x4ac22c['appendChild'](_0x4e5289);if(_0x25295d!==null&&_0x3bc42c!==null){const _0x527b59=document['createElementNS'](_0x39f534(0x148),_0x39f534(0x113));_0x527b59[_0x39f534(0x11c)]('x1',_0x25295d),_0x527b59['setAttribute']('y1',_0x3bc42c),_0x527b59[_0x39f534(0x11c)]('x2',_0x21c496),_0x527b59[_0x39f534(0x11c)]('y2',_0x46cbcf),_0x527b59['setAttribute'](_0x39f534(0x161),_0x39f534(0x13b)+_0x262624*0x168/_0x5b6ef9['length']+_0x39f534(0x14b)),_0x527b59['setAttribute'](_0x39f534(0xe8),'2'),_0x4ac22c[_0x39f534(0x13d)](_0x527b59);}_0x25295d=_0x21c496,_0x3bc42c=_0x46cbcf;const _0x2b8b6a=document[_0x39f534(0xea)](_0x39f534(0x148),_0x39f534(0xed));_0x2b8b6a[_0x39f534(0x11c)]('x',_0x21c496+0x5),_0x2b8b6a[_0x39f534(0x11c)]('y',_0x46cbcf+0x5),_0x2b8b6a[_0x39f534(0x154)]=_0x262624+0x1,_0x2b8b6a[_0x39f534(0x11c)](_0x39f534(0xf2),'white'),_0x2b8b6a[_0x39f534(0x11c)]('font-size',_0x39f534(0x155)),_0x4ac22c[_0x39f534(0x13d)](_0x2b8b6a);});}startButton[a0_0x262f85(0x118)](a0_0x262f85(0xe9),startTracking),resetBackgroundButton[a0_0x262f85(0x118)](a0_0x262f85(0xe9),resetBackground),clearHeatmapButton['addEventListener'](a0_0x262f85(0xe9),clearHeatmap),exportButton[a0_0x262f85(0x118)](a0_0x262f85(0xe9),exportHeatmap),backgroundInput[a0_0x262f85(0x118)](a0_0x262f85(0x131),setBackgroundImage),document[a0_0x262f85(0x118)](a0_0x262f85(0x13c),trackMouseMovement),window[a0_0x262f85(0x118)]('resize',()=>heatmap[a0_0x262f85(0x110)]()),volumeControl[a0_0x262f85(0x118)](a0_0x262f85(0x135),function(){const _0x324d58=a0_0x262f85,_0x339ae2=this[_0x324d58(0x13a)];document[_0x324d58(0x133)](_0x324d58(0x13e))[_0x324d58(0x15e)]=_0x339ae2,document[_0x324d58(0x133)]('pulseSound')[_0x324d58(0x15e)]=_0x339ae2;}),document[a0_0x262f85(0x133)](a0_0x262f85(0x145))[a0_0x262f85(0x118)](a0_0x262f85(0xe9),createGazePlot);function startTracking(){const _0x4a2d79=a0_0x262f85;if(isTracking)return;const _0x54951c=parseInt(durationInput['value']);if(isNaN(_0x54951c)||_0x54951c<0x1||_0x54951c>0x3c){alert('Please\x20enter\x20a\x20valid\x20duration\x20between\x201\x20and\x2060\x20seconds.');return;}Effect[_0x4a2d79(0x132)](),clearHeatmap(),isTracking=!![],controlPanel[_0x4a2d79(0x117)][_0x4a2d79(0x120)](_0x4a2d79(0x10f)),disableControls(!![]),startButton[_0x4a2d79(0x154)]=_0x4a2d79(0x15a),trackingTimer=setTimeout(endTracking,_0x54951c*0x3e8);}function endTracking(){const _0x40ed14=a0_0x262f85;isTracking=![],heatmap[_0x40ed14(0x103)]({'max':0x1,'data':positions}),controlPanel[_0x40ed14(0x117)][_0x40ed14(0x10c)](_0x40ed14(0x10f)),disableControls(![]),startButton[_0x40ed14(0x154)]='Start\x20Tracking';}function resetBackground(){const _0x3a4841=a0_0x262f85;document['body'][_0x3a4841(0x15c)]['backgroundImage']=_0x3a4841(0x123),document[_0x3a4841(0x100)][_0x3a4841(0x15c)][_0x3a4841(0xf1)]='black',backgroundInput[_0x3a4841(0x13a)]='';}function clearHeatmap(){const _0x45f755=a0_0x262f85;heatmap[_0x45f755(0x103)]({'max':0x1,'data':[]}),positions=[];}function exportHeatmap(){const _0x7cb583=a0_0x262f85;controlPanel[_0x7cb583(0x117)][_0x7cb583(0x120)](_0x7cb583(0x10f)),setTimeout(()=>{const _0x5401ce=_0x7cb583;html2canvas(document[_0x5401ce(0x100)],{'width':document[_0x5401ce(0x100)]['scrollWidth'],'height':document[_0x5401ce(0x100)][_0x5401ce(0x107)],'scale':0x1,'useCORS':!![]})[_0x5401ce(0xec)](_0x480ca9=>{const _0x33728d=_0x5401ce,_0x1fed14=_0x480ca9[_0x33728d(0xfb)]('image/png')[_0x33728d(0xfa)](_0x33728d(0x157),'image/octet-stream'),_0x7b7be7=document[_0x33728d(0x127)]('a');_0x7b7be7[_0x33728d(0x104)]=_0x33728d(0x14a),_0x7b7be7[_0x33728d(0xe7)]=_0x1fed14,_0x7b7be7[_0x33728d(0xe9)](),controlPanel[_0x33728d(0x117)][_0x33728d(0x10c)](_0x33728d(0x10f));});},0x12c);}function setBackgroundImage(_0x5a8382){const _0x5347ae=a0_0x262f85,_0x144c8d=_0x5a8382[_0x5347ae(0x15f)][_0x5347ae(0x101)][0x0];if(_0x144c8d){const _0x50f826=new FileReader();_0x50f826[_0x5347ae(0x12b)]=function(_0xb48f88){const _0x330bad=_0x5347ae;document['body'][_0x330bad(0x15c)][_0x330bad(0x10d)]=_0x330bad(0x11a)+_0xb48f88[_0x330bad(0x15f)][_0x330bad(0x146)]+'\x27)';},_0x50f826[_0x5347ae(0x15d)](_0x144c8d);}else resetBackground();}function trackMouseMovement(_0x485409){const _0x3f591c=a0_0x262f85;if(!isTracking)return;const _0x1636c1=Date[_0x3f591c(0x137)]();if(_0x1636c1-lastMoveTime>interval){lastMoveTime=_0x1636c1;const _0x3654a1=effectSelect['value'],_0x11d992=EffectFactory['createEffect'](_0x3654a1,_0x485409[_0x3f591c(0x162)],_0x485409[_0x3f591c(0x114)]);_0x11d992&&_0x11d992[_0x3f591c(0x144)](),positions[_0x3f591c(0x14d)]({'x':_0x485409[_0x3f591c(0x162)],'y':_0x485409[_0x3f591c(0x114)],'value':0x1});}}function a0_0x2a6d(){const _0x1a4e7e=['mousemove','appendChild','rippleSound','all\x202s\x20ease-out','transition','create','random','60px','animate','showGazePlotButton','result','audioContext','http://www.w3.org/2000/svg','8425542oWEUqE','heatmap_export.png',',\x20100%,\x2050%)','sqrt','push','durationInput','circle','rgba(0,\x200,\x200,\x200)','clearHeatmapButton','disabled','20px','textContent','10px','5400280mvvjdo','image/png','webkitAudioContext','AudioContext','Tracking...','float','style','readAsDataURL','volume','target','opacity','stroke','pageX','href','stroke-width','click','createElementNS','resume','then','text','height','font-size','buffer','backgroundColor','fill','pulse','160FrmFKN','resetBackgroundButton','ripple','connect','1824540QiVPkj','playSound','replace','toDataURL','Error\x20playing\x20sound:','position','100%','decodeAudioData','body','files','start','setData','download','effectSelect','49019frnOdz','scrollHeight','5396839isNfrs','arrayBuffer','duration','length','remove','backgroundImage','onended','hidden','resize','width','translateY(0)\x20scale(1)','line','pageY','backgroundInput','24792GwbAoM','classList','addEventListener','svg','url(\x27','state','setAttribute','sounds/fuwa.mp3','left','element','add','translateY(-100px)','volumeControl','none','absolute','491823LugZqz','exportButton','createElement','2bvUXjf','top','transform','onload','reduce','sounds/short_float.mp3','points','createBufferSource','playbackRate','change','initAudioContext','getElementById','log2','input','className','now','currentSound','104uTYSZA','value','hsl('];a0_0x2a6d=function(){return _0x1a4e7e;};return a0_0x2a6d();}function disableControls(_0x2ac7ea){const _0x5288f9=a0_0x262f85;startButton[_0x5288f9(0x152)]=_0x2ac7ea,durationInput[_0x5288f9(0x152)]=_0x2ac7ea,backgroundInput['disabled']=_0x2ac7ea,resetBackgroundButton['disabled']=_0x2ac7ea,clearHeatmapButton[_0x5288f9(0x152)]=_0x2ac7ea,exportButton[_0x5288f9(0x152)]=_0x2ac7ea,effectSelect[_0x5288f9(0x152)]=_0x2ac7ea;}